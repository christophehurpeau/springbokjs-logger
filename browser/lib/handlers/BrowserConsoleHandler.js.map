{"version":3,"sources":["../../../src/handlers/BrowserConsoleHandler.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;IAGY;;;;IACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEZ,IAAM,cAAc,UAAE,WAAD,EAAiB;AAClC,QAAI,CAAC,WAAD,EAAc;AACd,eAAO,EAAP,CADc;KAAlB;;;AADkC,WAM3B,UACH,YAAY,OAAZ,CACI,IAAI,MAAJ,CAAW,iBAAiB,OAAjB,GAA2B,sBAA3B,EAAmD,GAA9D,CADJ,EAEI,IAFJ,CADG,EAKL,KALK,CAKC,GALD,EAKM,MALN,CAKa,OAAO,YAAP,IAAuB,aAAa,KAAb,IAAsB,aAAa,KAAb,CAAmB,KAAnB,CAAyB,GAAzB,CAA7C,IAA8E,EAA9E,CALpB,CANkC;CAAjB,CAYlB,SAAS,MAAT,CAZG;;IAce;;;;;;;;;;;;AAKjB,aALiB,qBAKjB,CAAY,QAAZ,EAAsB,IAAtB,EAA4B;8BALX,uBAKW;;AACxB,YAAI,IAAJ,EAAU;AACN,gBAAI,QAAQ,YAAY,CAAZ,MAAmB,GAAnB,IAA0B,YAAY,OAAZ,CAAoB,IAApB,MAA8B,CAAC,CAAD,CAD9D;AAEN,gBAAI,CAAC,KAAD,IAAU,SAAS,QAAT,CAAkB,GAAlB,CAAV,EAAkC;AAClC,wBAAQ,YAAY,OAAZ,CAAoB,SAAS,KAAT,CAAe,GAAf,EAAoB,CAApB,CAApB,MAAgD,CAAC,CAAD,CADtB;aAAtC;;AAIA,uBAAW,QAAQ,mBAAS,GAAT,GAAgB,YAAY,mBAAS,IAAT,CANzC;SAAV;;sEANa,kCAgBT,UACA,mCAAyB,uBAAzB,GACA,gBAboB;KAA5B;;WALiB","file":"BrowserConsoleHandler.js","sourcesContent":["import Handler from '../Handler';\nimport LogLevel from '../LogLevel';\nimport LayoutBrowserConsole from '../layouts/LayoutBrowserConsole';\nimport * as formatterBrowserConsole from '../formatters/formatterBrowserConsole';\nimport * as outputConsole from '../outputs/outputBrowserConsole';\n\nconst debugValues = ((querystring) => {\n    if (!querystring) {\n        return [];\n    }\n\n    // https://developer.mozilla.org/en-US/docs/Web/API/URLUtils/search#Get_the_value_of_a_single_search_param\n    return decodeURI(\n        querystring.replace(\n            new RegExp('^(?:.*[&\\\\?]' + 'DEBUG' + '(?:\\\\=([^&]*))?)?.*$', 'i'),\n            '$1'\n        )\n    ).split(',').concat(global.localStorage && localStorage.DEBUG && localStorage.DEBUG.split(',') || []);\n})(location.search);\n\nexport default class BrowserConsoleHandler extends Handler {\n    /**\n     * @param {int} minLevel see {@link LogLevel}\n      * @param {string} [name] based on localStorage.DEBUG or querystring to determine the minimum level displayed\n     */\n    constructor(minLevel, name) {\n        if (name) {\n            let debug = debugValues[0] === '*' || debugValues.indexOf(name) !== -1;\n            if (!debug && minLevel.includes('.')) {\n                debug = debugValues.indexOf(minLevel.split('.')[0]) !== -1;\n            }\n\n            minLevel = debug ? LogLevel.ALL : (minLevel || LogLevel.WARN);\n        }\n\n        super(\n            minLevel,\n            new LayoutBrowserConsole(formatterBrowserConsole),\n            outputConsole\n        );\n    }\n}\n"]}