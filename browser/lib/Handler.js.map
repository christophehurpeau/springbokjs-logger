{"version":3,"sources":["../../src/Handler.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;IAOqB,OAAO;;;;;;;AAMxB,aANiB,OAAO,CAMZ,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE;;;8BANrB,OAAO;;AAOpB,YAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;AACzB,YAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AACrB,YAAI,CAAC,MAAM,GAAG,MAAM,CAAC;;AAErB,yBAAO,OAAO,CAAC,UAAC,KAAK,EAAK;AACtB,gBAAI,KAAK,CAAC,KAAK,GAAG,QAAQ,EAAE;AACxB,sBAAK,KAAK,CAAC,KAAK,CAAC,GAAG,YAAY,EAAE,CAAC;aACtC;SACJ,CAAC,CAAC;KACN;;;;;AAAA;iBAhBgB,OAAO;;+BAqBjB,MAAM,EAAE;AACX,gBAAI,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE;AAC9B,uBAAO;aACV;;AAED,gBAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AAC7C,gBAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;SAChC;;;WA5BgB,OAAO;;;kBAAP,OAAO","file":"Handler.js","sourcesContent":["import levels from './levels';\n\n/**\n * Abstract class that handles a record.\n *\n * Has a min level to discard record lower that this level.\n */\nexport default class Handler {\n    /**\n     * @param {int} minLevel\n     * @param {Layout} layout\n     * @param {Output} output\n     */\n    constructor(minLevel, layout, output) {\n        this.minLevel = minLevel;\n        this.layout = layout;\n        this.output = output;\n\n        levels.forEach((level) => {\n            if (level.value < minLevel) {\n                this[level.lcKey] = function () {};\n            }\n        });\n    }\n\n    /**\n     * @param {Object} record\n     */\n    handle(record) {\n        if (record.level < this.minLevel) {\n            return;\n        }\n\n        const formatted = this.layout.format(record);\n        this.output.write(formatted);\n    }\n}\n"]}