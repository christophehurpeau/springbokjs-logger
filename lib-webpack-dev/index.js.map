{"version":3,"sources":["../src/index.js"],"names":["Logger","default","configure","addConfig","addGlobalProcessor","addGlobalHandler","levels","listenUnhandledErrors","logger","process","on","error","err"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,oBAAnB;;qBAEoB,oB;qBAAbC,O;;AACP,SAASC,SAAT,EAAoBC,SAApB,EAA+BC,kBAA/B,EAAmDC,gBAAnD,QAA2E,UAA3E;AACA,SAASJ,WAAWK,MAApB,QAAkC,oBAAlC;;AAEA;;;;AAIA,OAAO,SAASC,qBAAT,CAA+BC,MAA/B,EAAuC;AAC5C,MAAI,CAACA,MAAL,EAAaA,SAAS,IAAIR,MAAJ,CAAW,mCAAX,EAAgD,uBAAhD,CAAT;AACbS,UAAQC,EAAR,CAAW,mBAAX,EAAgC;AAAA,WAAOF,OAAOG,KAAP,CAAa,mBAAb,EAAkC,EAAEC,QAAF,EAAlC,CAAP;AAAA,GAAhC;AACAH,UAAQC,EAAR,CAAW,oBAAX,EAAiC;AAAA,WAAOF,OAAOG,KAAP,CAAa,oBAAb,EAAmC,EAAEC,QAAF,EAAnC,CAAP;AAAA,GAAjC;AACD","file":"index.js","sourcesContent":["import Logger from 'nightingale-logger';\n\nexport default from 'nightingale-logger';\nexport { configure, addConfig, addGlobalProcessor, addGlobalHandler } from './config';\nexport { default as levels } from 'nightingale-levels';\n\n/**\n * listen to uncaughtException and unhandledRejection\n * @param {Logger} [logger]\n */\nexport function listenUnhandledErrors(logger) {\n  if (!logger) logger = new Logger('nightingale.listenUnhandledErrors', 'listenUnhandledErrors');\n  process.on('uncaughtException', err => logger.error('uncaughtException', { err }));\n  process.on('unhandledRejection', err => logger.error('unhandledRejection', { err }));\n}\n"]}